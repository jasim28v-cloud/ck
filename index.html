<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VORTEX 26 | المنصة الأرقى</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://upload-widget.cloudinary.com/global/all.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&family=Noto+Sans+Arabic:wght@300;700&display=swap');
        
        :root { --accent: #00f3ff; --bg: #050505; }
        body { background: var(--bg); color: #fff; font-family: 'Noto Sans Arabic', sans-serif; margin: 0; overflow-x: hidden; }

        /* خلفية سينمائية */
        .cinema-bg { position: fixed; inset: 0; background: radial-gradient(circle at top right, #0a1525 0%, #000 100%); z-index: -1; }

        /* هيدر فخم */
        header { 
            height: 80px; background: rgba(0,0,0,0.4); backdrop-filter: blur(20px); 
            border-bottom: 1px solid rgba(255,255,255,0.05); display: flex; 
            align-items: center; justify-content: space-between; padding: 0 40px; 
            position: fixed; top: 0; width: 100%; z-index: 1000;
        }
        .v-logo { font-family: 'Orbitron'; font-weight: 900; font-size: 28px; letter-spacing: 4px; color: var(--accent); text-shadow: 0 0 15px var(--accent); }

        /* زر الرفع الحديث (بدون إعلانات) */
        .prime-upload {
            background: rgba(255,255,255,0.05); border: 1px solid var(--accent); color: var(--accent);
            padding: 10px 25px; border-radius: 12px; font-family: 'Orbitron'; font-size: 14px;
            transition: 0.4s; cursor: pointer; display: flex; align-items: center; gap: 10px;
        }
        .prime-upload:hover { background: var(--accent); color: #000; box-shadow: 0 0 30px var(--accent); transform: translateY(-2px); }

        /* شبكة الفيديوهات الحديثة */
        main { margin-top: 120px; padding: 0 40px 100px 40px; }
        .vortex-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 30px; }

        /* كرت الفيديو الفاخر */
        .v-card { 
            background: rgba(255,255,255,0.02); border-radius: 24px; border: 1px solid rgba(255,255,255,0.05);
            overflow: hidden; transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); cursor: pointer;
        }
        .v-card:hover { transform: scale(1.03); border-color: var(--accent); box-shadow: 0 20px 40px rgba(0,0,0,0.6); }
        .v-thumb { position: relative; width: 100%; aspect-ratio: 16/9; background: #000; overflow: hidden; }
        video { width: 100%; height: 100%; object-fit: cover; opacity: 0.8; transition: 0.5s; }
        .v-card:hover video { opacity: 1; transform: scale(1.05); }

        .v-meta { padding: 20px; display: flex; justify-content: space-between; align-items: center; }
        .v-title { font-weight: 700; font-size: 16px; color: #eee; }

        /* علامة 2026 في الأسفل */
        footer { 
            text-align: center; padding: 40px; font-family: 'Orbitron'; 
            font-size: 12px; letter-spacing: 5px; opacity: 0.3; color: var(--accent);
        }

        /* لودر الرفع */
        #loading { 
            display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); 
            z-index: 9999; flex-direction: column; align-items: center; justify-content: center;
        }
        .pulse { width: 60px; height: 60px; background: var(--accent); border-radius: 50%; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(0.1); opacity: 1; } 100% { transform: scale(1.5); opacity: 0; } }
    </style>
</head>
<body>

    <div class="cinema-bg"></div>

    <header>
        <div class="v-logo">VORTEX</div>
        <div class="prime-upload" id="up-trigger">
            <i class="fas fa-plus-circle"></i>
            <span>NEW DATA</span>
        </div>
    </header>

    <div id="loading">
        <div class="pulse"></div>
        <p class="mt-6 font-bold tracking-widest text-cyan-400">UPLOADING TO VORTEX ARCHIVE...</p>
    </div>

    <main>
        <div class="vortex-grid" id="main-display">
            </div>
    </main>

    <footer>
        <p>SYSTEM_CORE_V.26 // ALL RIGHTS RESERVED © 2026</p>
    </footer>

    <script>
        // إعداداتك المعتمدة
        const firebaseConfig = { databaseURL: "https://goodd-eb2fa-default-rtdb.firebaseio.com/" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        const AD_LINKS = [
            "https://www.effectivegatecpm.com/k60w64w4gk?key=564f3d8cc4ac85949f218179b742495e",
            "https://www.effectivegatecpm.com/bxwxuk2f39?key=566216691dc8b76a740840e94f68f44c"
        ];
        let adIdx = 0;
        function openAd() { window.open(AD_LINKS[adIdx], '_blank'); adIdx = (adIdx + 1) % AD_LINKS.length; }

        // نظام الرفع السلس (بدون إعلانات)
        const myWidget = cloudinary.createUploadWidget({ 
            cloudName: "dssk5tabb", 
            uploadPreset: "Titan_preset" 
        }, (err, res) => {
            if (res.event === "start") document.getElementById('loading').style.display = 'flex';
            if (!err && res.event === "success") {
                db.ref('vortex_26/').push({ 
                    url: res.info.secure_url, 
                    time: Date.now() 
                });
                document.getElementById('loading').style.display = 'none';
            }
        });

        document.getElementById("up-trigger").onclick = () => { myWidget.open(); };

        // جلب البيانات بتنسيق فخم
        db.ref('vortex_26').on('value', (snapshot) => {
            const grid = document.getElementById('main-display');
            const data = snapshot.val();
            if(!data) return;
            grid.innerHTML = '';
            Object.keys(data).reverse().forEach(id => {
                const v = data[id];
                const card = document.createElement('div');
                card.className = 'v-card';
                card.onclick = openAd; // الإعلان عند الضغط للمشاهدة
                card.innerHTML = `
                    <div class="v-thumb">
                        <video src="${v.url}" muted onmouseover="this.play()" onmouseout="this.pause()"></video>
                    </div>
                    <div class="v-meta">
                        <span class="v-title italic opacity-80">ENCRYPTED_STREAM</span>
                        <i class="fas fa-play-circle text-cyan-400"></i>
                    </div>
                `;
                grid.appendChild(card);
            });
        });
    </script>
</body>
</html>
